/*
 * TravisFavicon - v0.1.0 - 2012-10-16
 * https://github.com/manuelvanrijn/travis-favicon
 * Copyright (c) 2012 Manuel van Rijn
 * Licensed MIT, GPL
 * 
 * Usage:
 *   TravisCIFavicon("username", "project-name");
 */
var TravisFavicon=function(e,t){var n=function(){var e=document.getElementsByTagName("link");for(var t=0,n=e.length;t<n;t++)if((e[t].getAttribute("rel")||"").match(/\bicon\b/))return e[t];return!1},r=function(e){var t=e.last_build_result,r=document.createElement("canvas");r.width=16,r.height=16;var i=r.getContext("2d");switch(t){case 0:i.fillStyle="#77D819";break;case 1:i.fillStyle="#CE3C35";break;default:i.fillStyle="#E8DA3B"}i.fillRect(0,0,128,128);var s=n();s===!1&&(s=document.createElement("link"),document.getElementsByTagName("head")[0].appendChild(s)),s.type="image/x-icon",s.rel="shortcut icon",s.href=r.toDataURL("image/x-icon")},i=function(e,t){window.travisFaviconCallback=r;var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src="https://secure.travis-ci.org/"+e+"/"+t+".json?callback=travisFaviconCallback",n.appendChild(i)};i(e,t)};